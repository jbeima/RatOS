<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="RatOS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="RatOS Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NQB0MHKGLP"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NQB0MHKGLP",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="RatOS" href="/opensearch.xml"><title data-react-helmet="true">Troubleshooting | RatOS</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-react-helmet="true" name="twitter:image" content="https://os.ratrig.com/img/site-banner.png?bust=1"><meta data-react-helmet="true" property="og:url" content="https://os.ratrig.com/docs/troubleshooting"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Troubleshooting | RatOS"><meta data-react-helmet="true" name="description" content="My steppers are running backwards!"><meta data-react-helmet="true" property="og:description" content="My steppers are running backwards!"><link data-react-helmet="true" rel="icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://os.ratrig.com/docs/troubleshooting"><link data-react-helmet="true" rel="alternate" href="https://os.ratrig.com/docs/troubleshooting" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://os.ratrig.com/docs/troubleshooting" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1df9507f.css">
<link rel="preload" href="/assets/js/runtime~main.9e092ce6.js" as="script">
<link rel="preload" href="/assets/js/main.ce227550.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/Logo-white.svg" alt="RatOS" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logos/Logo-white.svg" alt="RatOS" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/changelog">Changelog</a><a href="https://github.com/sponsors/miklschmidt" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Donate/Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/ratrig" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/Rat-OS/RatOS" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/introduction">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration">Initial Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/slicers">Slicer Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual-firmware-compilation">Manual Firmware Compilation</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/changelog#updating-from-v-coreos-rc2">Updating from V-CoreOS RC2</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/boards/btt/octopus-11">Supported Boards</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/printers/v-core-3">Supported Printers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/configuration/advanced-stepper-configuration">Configuration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/advanced-stepper-configuration">Advanced Stepper Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/includes-and-overrides">Includes &amp; Overrides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/macros">Configuring RatOS Macros</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://www.klipper3d.org/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist hasHref_VCh3">Other Documentation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://www.klipper3d.org/" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Klipper<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://docs.mainsail.xyz/" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Mainsail<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://moonraker.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Moonraker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://klipperscreen.readthedocs.io/" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>KlipperScreen<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Troubleshooting</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="my-steppers-are-running-backwards">My steppers are running backwards!<a class="hash-link" href="#my-steppers-are-running-backwards" title="Direct link to heading">​</a></h2><p>Refer to the stepper section at the top of printer.cfg, you can add or remove <code>!</code> in front of the dir_pin to reverse the direction of that particular stepper.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="everytime-i-update-my-changes-are-gone">Everytime i update my changes are gone.<a class="hash-link" href="#everytime-i-update-my-changes-are-gone" title="Direct link to heading">​</a></h2><p>You&#x27;re not supposed to change <em>any</em> files inside the managed RatOS config/ folder. You should <em>only</em> change your printer.cfg, if you need to change settings refer to the <a href="/docs/configuration/includes-and-overrides">Inlcudes &amp; Overrides Documentation</a> section.
<img alt="Hands off the RatOS Managed Config Folder!" src="/assets/images/config-folder-783bb1478f027bfd6ad4aab7505bc287.png" width="894" height="590"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="klipper-says-the-mcu-is-unable-to-connect">Klipper says the MCU is unable to connect<a class="hash-link" href="#klipper-says-the-mcu-is-unable-to-connect" title="Direct link to heading">​</a></h2><p>Double check your USB connection, try another cable (the one that comes with the board usually works), and check that your firmware was flashed correctly (refer to the guide for your board).
If you need to flash new firmware (for example autoflashing will not work if you upgrade klipper before flashing your board and it&#x27;s properly connected), use the <code>COMPILE_BINARIES</code> macro to generate new firmware binaries for all supported boards. Then download the binary for your board from the <code>firmware_binaries</code> folder in the Machine tab, and flash it via SD card.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="i-updated-klipper-and-now-i-get-an-error">I updated klipper and now i get an error!<a class="hash-link" href="#i-updated-klipper-and-now-i-get-an-error" title="Direct link to heading">​</a></h2><p>When you update klipper you might see an error that looks like this:</p><p><img alt="Firmware version mismatch between host and guest" src="/assets/images/firmware_version_mismatch-456c9561ecf03b8fc5c498f42ce6a891.png" width="849" height="260"></p><p>This is because klipper made changes to a part of the MCU firmware that we use. Klipper is telling us that the version of klipper running on the Pi is newer than the version running on the MCU. To fix this, we have to flash the board with a new version of the firmware. For convenience, and ease of use, the newest firmware is compiled and put in the <code>firmware_binaries</code> folder which you can find in the <code>MACHINE</code> tab in Mainsail. You can use this to flash your MCU the same way you did initially, via SD Card. RatOS attempts to flash supported boards automatically when klipper is updated. If you&#x27;re getting this error you&#x27;re probably using a board which does not support automatic flashing via USB. It&#x27;s also possible that you updated klipper without having your board flashed and connected. In that case, use the <code>COMPILE_BINARIES</code> macro to generate new firmware binaries for all supported boards. Then download the binary for your board from the <code>firmware_binaries</code> folder in the Machine tab, and flash that via SD card.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="unparsed-config-option-config_path-klipper_config-detected-in-section-server">Unparsed config option &#x27;config_path: ~/klipper_config&#x27; detected in section <!-- -->[<!-- -->server<!-- -->]<a class="hash-link" href="#unparsed-config-option-config_path-klipper_config-detected-in-section-server" title="Direct link to heading">​</a></h2><p><img alt="Unparsed config option" src="/assets/images/moonraker_unparsed_config-eb4c0f2b6c16094920135b33fe1192f3.png" width="1000" height="692">
This happens because moonraker has moved <code>config_path</code> and <code>log_path</code> from the <code>[server]</code> section to the <code>[file_manager]</code> section. You can fix this by moving those to options into the <code>[file_manager]</code> (create it if it doesn&#x27;t already exist) in moonraker.conf.</p><p>Example:</p><div class="codeBlockContainer_I0IT language-properties theme-code-block"><div class="codeBlockContent_wNvx properties"><pre tabindex="0" class="prism-code language-properties codeBlock_jd64 thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">[server]</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">host = 0.0.0.0</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">port = 7125</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">enable_debug_logging = False</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">config_path = ~/klipper_config</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">log_path = ~/klipper_logs</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>becomes</p><div class="codeBlockContainer_I0IT language-properties theme-code-block"><div class="codeBlockContent_wNvx properties"><pre tabindex="0" class="prism-code language-properties codeBlock_jd64 thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">[server]</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">host = 0.0.0.0</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">port = 7125</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">enable_debug_logging = False</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">[file_manager]</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">config_path = ~/klipper_config</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">log_path = ~/klipper_logs</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You may have to ssh into your raspberry pi and edit the file with nano:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">ssh pi@ratos.local</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">nano ~/klipper_config/moonraker.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Use ctrl+o to write your changes to moonraker.conf and then ctrl+x to exit nano. Then run:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#d6deeb"><span class="token plain">sudo systemctl restart moonraker</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>And you should be back in action.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="get-help">Get help<a class="hash-link" href="#get-help" title="Direct link to heading">​</a></h2><p>For further support check out the RatOS-support and klipper channels on Discord. Use the invite link below to join.</p><a href="https://discord.gg/ratrig" target="_blank" rel="noopener noreferrer" class="button button--primary">Join the Unnofficial RatRig Discord Community</a></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Rat-OS/RatOS/edit/master/site/docs/troubleshooting.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/slicers"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Slicer Configuration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/manual-firmware-compilation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Manual Firmware Compilation</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#my-steppers-are-running-backwards" class="table-of-contents__link toc-highlight">My steppers are running backwards!</a></li><li><a href="#everytime-i-update-my-changes-are-gone" class="table-of-contents__link toc-highlight">Everytime i update my changes are gone.</a></li><li><a href="#klipper-says-the-mcu-is-unable-to-connect" class="table-of-contents__link toc-highlight">Klipper says the MCU is unable to connect</a></li><li><a href="#i-updated-klipper-and-now-i-get-an-error" class="table-of-contents__link toc-highlight">I updated klipper and now i get an error!</a></li><li><a href="#unparsed-config-option-config_path-klipper_config-detected-in-section-server" class="table-of-contents__link toc-highlight">Unparsed config option &#39;config_path: ~/klipper_config&#39; detected in section [server]</a></li><li><a href="#get-help" class="table-of-contents__link toc-highlight">Get help</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.9e092ce6.js"></script>
<script src="/assets/js/main.ce227550.js"></script>
</body>
</html>